const nodemailer = require("nodemailer");

class MailService {
  constructor() {
    this.transporter = nodemailer.createTransport({
      host: "smtp.gmail.com",
      port: 587,
      secure: false,
      auth: {
        user: "a.kosmaganbet03@gmail.com",
        pass: "ipfv evvc dnih qaex",
      },
      tls: {
        rejectUnauthorized: false,
      },
    });
  }

  async sendActivationMail(to, link) {
    await this.transporter.sendMail({
      from: "a.kosmaganbet03@gmail.com",
      to,
      subject: `–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ Go Trip :)`,
      text: "",
      html: `
        <div>
          <h1>–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–π –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ</h1>
          <a href="${link}">${link}</a>
        </div>
      `,
    });
  }

  async sendStatusMail(to, link) {
    await this.transporter.sendMail({
      from: "a.kosmaganbet03@gmail.com",
      to,
      subject: `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`,
      text: "–í—ã —É—Å–ø–µ—à–Ω–æ —Å—Ç–∞–ª–∏ –≥–∏–¥–æ–º –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Go Trip! üéâ",
      html: `
        <div>
          <p>–≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –≤–∞–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, –æ–±—â–µ–Ω–∏—è —Å –ª—é–¥—å–º–∏ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞ –∏ –¥–µ–ª–µ–Ω–∏—è —Å–≤–æ–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –æ–ø—ã—Ç–æ–º.</p>
          <p>–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –∏—Ö –Ω–∞ –Ω–æ–≤—ã–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è.</p>
          <p>–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ–±–µ, —Å–≤–æ–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, —á—Ç–æ–±—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –º–æ–≥–ª–∏ –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∏ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –≤–∞–º–∏.</p>
          <p>–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã–±—Ä–∞–ª–∏ Go Trip! –ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –∏ —è—Ä–∫–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π!</p>
          <p><b>–° —É–≤–∞–∂–µ–Ω–∏–µ–º, –ö–æ–º–∞–Ω–¥–∞ Go Trip</b></p>
          <a href="${link}">${link}</a>
        </div>
      `,
    });
  }

  async sendGuideMail(to, link) {
    await this.transporter.sendMail({
      from: "a.kosmaganbet03@gmail.com",
      to,
      subject: `–°–ø–∞—Å–∏–±–æ —á—Ç–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å –∫ –Ω–∞–º`,
      text: "–¢–µ–ø–µ—Ä—å –í—ã - —á–∞—Å—Ç—å –Ω–æ–≤–æ–≥–æ –º–∏—Ä–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π‚Ä¶ –ü–æ—á—Ç–∏! üéâ",
      html: `
        <div>
          <p>–ö–æ–º–∞–Ω–¥–∞ –õ–æ–∫–∞–ª–∏ –º–µ—á—Ç–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—É—á—à–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É. –ß—Ç–æ–±—ã –Ω–∞—à–∞ –º–µ—á—Ç–∞ —Å–±—ã–ª–∞—Å—å, –º—ã —É–¥–µ–ª—è–µ–º –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –º–µ—Å—Ç–Ω—ã–º –∂–∏—Ç–µ–ª—è–º, –¥–æ–±–∞–≤–ª—è—è –Ω–∞ —Å–∞–π—Ç —Ç–æ–ª—å–∫–æ —Å–∞–º—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ä–µ–±—è—Ç.</p>
          <p>–ú—ã –ø–æ—á—Ç–∏ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –≤—ã - –≤ –∏—Ö —á–∏—Å–ª–µ. –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —ç—Ç–æ–º, –∞ —Ç–∞–∫–∂–µ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ–± –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö —Å–µ—Ä–≤–∏—Å–∞, –ø—Ä–∞–≤–∏–ª–∞—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ –≤—ã–ø–ª–∞—Ç—ã –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã –õ–æ–∫–∞–ª–∏ —Å–≤—è–∂—É—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
          <p>–°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∑–∞ —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞–≤–∏–ª–∏ –∑–∞—è–≤–∫—É!</p>
          <p><b>–° —É–≤–∞–∂–µ–Ω–∏–µ–º, –ö–æ–º–∞–Ω–¥–∞ Go Trip</b></p>
          <a href="${link}">${link}</a>
        </div>
      `,
    });
  }
}

module.exports = new MailService();
